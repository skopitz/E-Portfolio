---
format: 
  html:
    toc: true
    toc-location: left
    toc-depth: 4
editor: visual
---


# MGEM 

---

## Capstone - Spectral Recovery

This project focuses on post-fire spectral recovery using Landsat time series, using NDVI and NBR to describe how recovery changes over time after wildfire.

**What I did**

- Built NDVI and NBR time series composites for the study area
- Mapped burn severity using dNBR (pre- vs post-fire comparison)
- Calculated recovery metrics from the time series (Years to Recovery and recovery rate/slope)
- Compared recovery across burn severity classes and pre-fire land cover types
- Produced maps and summary figures to support interpretation

[View R code](capstone_recovery.html)


---

## LiDAR Forest Modeling

**Alex Fraser Research Forest**

**What I did**

- Built a digital elevation model (DEM) and canopy height model (CHM) mosaic from LiDAR data
- Modeled dominant height and above-ground biomass (AGB) using LiDAR metrics
- Applied the models wall-to-wall to produce continuous prediction surfaces across the study area


## Individual Tree Segmentation

**Malcolm Knapp Research Forest**

**What I did**

- Prepared and normalized LiDAR data for tree-level analysis
- Segmented trees using li2012 (point-cloud) and dalponte2016 (CHM-based) methods

```{=html}
<iframe src="lidar_rgl.html"
        width="550"
        height="400"
        style="border:0; display:block; margin:0 auto;"
        scrolling="no">
</iframe>
```



---

## Stream & Riparian Analysis

**Nahmint Watershed, British Columbia**

This project focused on defining Riparian Management Areas (RMAs) within a topographically complex watershed using a Digital Elevation Model (DEM) and hydrological tools.

**What I did**

- Processed a DEM to remove sinks and model flow direction and accumulation  
- Extracted and classified stream networks using Strahler and Shreve ordering  
- Calculated stream gradient and width to determine fish-bearing potential  
- Assigned stream classes and applied Reserve and Management Zone buffers using Python field calculations  
- Delineated watersheds and generated contour lines  
- Produced a final map summarizing RMAs, stream networks, and terrain

[View final map](images/GEM511_Lab3_Map_SK.png)




---

# Other

## NSERC USRA Research Project


**Mapping Factors Influencing Phosphorus in Manitoba Streams (Lake Winnipeg Watershed)**

*Pre-MGEM!*

Phosphorus is essential, but too much in freshwater can contribute to algae blooms and water quality issues. In this project, I mapped spatial factors linked to phosphorus loading in Manitobaâ€™s portion of the Lake Winnipeg watershed.

I built a geospatial layer set and grouped it into:

- **Sources** (wastewater treatment sites, agricultural land, phosphorus contamination risk)
- **Transport pathways** (stream networks, waterbodies, drainage features like ditches/culverts)
- **Landscape factors** (soil texture/drainage, clay content, erosion risk, wetlands, slope)

The final deliverable is an ArcGIS StoryMap and web map that lets you explore how these risk factors overlap across the region.

[View the StoryMap](https://storymaps.arcgis.com/stories/1cda73ac2b7e4d15a8dac028ebd05219)








# Coding


## Severity

Example workflow used in the capstone project to classify burn severity from a dNBR raster.

::: {.panel-tabset group="language"}
### R

```{.r}
# raster processing package
library(terra)

# load dNBR raster
dnbr <- rast("dnbr.tif")

# reclassification matrix (from, to, class)
rcl <- matrix(c(
  -Inf, 0.1, 1,   # unburned / low
  0.1, 0.27, 2,   # low-moderate
  0.27, 0.44, 3,  # moderate-high
  0.44, Inf, 4),  # high
  ncol = 3, byrow = TRUE)

# classify dNBR into severity categories
severity <- classify(dnbr, rcl)
```



### Python

```{.python}
# numerical array operations
import numpy as np

# create output array for severity classes
severity = np.zeros_like(dnbr)

# reclassify dNBR values into severity categories
severity[(dnbr <= 0.1)] = 1
severity[(dnbr > 0.1) & (dnbr <= 0.27)] = 2
severity[(dnbr > 0.27) & (dnbr <= 0.44)] = 3
severity[(dnbr > 0.44)] = 4
```
:::